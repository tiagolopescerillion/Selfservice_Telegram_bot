<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <meta name="operations-api-base" content="YOUR_SERVER_PUBLIC_URL" /> -->
    <meta name="operations-api-base" content="http://localhost:8080" />
    <!-- <meta name="admin-api-base" content="YOUR_SERVER_PUBLIC_URL" /> -->
    <title>Cerillion Digital IM</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar" aria-label="Application navigation">
        <!-- <img
          src="Cerillion-blue.jpg"
          alt="Cerillion Logo"
          class="sidebar-logo"
        /> -->

        <div class="sidebar-title">Digital IM Bot</div>
        <nav class="sidebar__nav">
          <div class="side-menu-divider">Admin</div>
          <button
            id="navImServerAdmin"
            class="sidebar__link active"
            type="button"
          >
            IM Server Admin
          </button>
          <button id="navConnectors" class="sidebar__link" type="button">
            Connectors
          </button>
          <div class="side-menu-divider">Business Configuration</div>
          <button id="navApiRegistration" class="sidebar__link" type="button">
            API Registration
          </button>
          <button id="navWeblinks" class="sidebar__link" type="button">
            Web Links Registration
          </button>
          <button id="navServiceBuilder" class="sidebar__link" type="button">
            Service Builder
          </button>
          <button id="navMenuConfig" class="sidebar__link" type="button">
            User Menus
          </button>
          <div class="side-menu-divider">Operations</div>
          <button
            id="navOperationsMonitoring"
            class="sidebar__link"
            type="button"
          >
            Operations Monitoring
          </button>
          <button id="navSendMessages" class="sidebar__link" type="button">
            Send Messages
          </button>
        </nav>
      </aside>

      <div class="content">
        <main>
          <section id="apiRegistryPanel" class="hidden">
            <section class="panel panel--wide">
              <h2>API Registration</h2>
              <p>
                Manage API endpoints loaded from <code>API-list-*.yml</code> files. Create new
                entries, download a refreshed <code>API-list-local.yml</code>, and drop it into the
                <code>CONFIGURATIONS</code> folder.
              </p>
              <div class="toolbar">
                <button id="addApiButton" class="secondary" type="button">Add API</button>
                <button id="downloadApiListButton" class="secondary" type="button">
                  Download API-list-local.yml
                </button>
              </div>
              <form id="apiForm" class="card hidden" autocomplete="off">
                <div class="two-col-grid">
                  <label>
                    API name
                    <input id="apiNameInput" type="text" required placeholder="find-user" />
                  </label>
                  <label>
                    API URL
                    <input
                      id="apiUrlInput"
                      type="text"
                      required
                      placeholder="https://example.com/api/v1/findUser"
                    />
                  </label>
                </div>
                <div class="toolbar toolbar--end">
                  <button id="saveApiButton" type="submit">Publish API</button>
                  <button id="cancelApiButton" type="button" class="secondary">Cancel</button>
                </div>
              </form>
              <div id="apiList" class="config-tree"></div>
              <p id="apiRegistryStatus" class="hint" aria-live="polite"></p>
            </section>
          </section>

          <section id="serviceBuilderPanel" class="hidden">
            <section class="panel panel--wide">
              <h2>Service Builder</h2>
              <p>
                Configure services backed by registered APIs. Save updates to a downloadable
                <code>services-local.yml</code> file and drop it into the <code>CONFIGURATIONS</code>
                folder.
              </p>
              <div class="toolbar">
                <button id="addServiceButton" class="secondary" type="button">
                  Add Service
                </button>
                <button id="downloadServicesButton" class="secondary" type="button">
                  Download services-local.yml
                </button>
              </div>
              <form id="serviceForm" class="card hidden" autocomplete="off">
                <div class="service-form__stack">
                  <div class="service-form__row">
                    <label class="form-field">
                      Service Name
                      <input
                        id="serviceNameInput"
                        type="text"
                        required
                        placeholder="Product"
                      />
                    </label>
                    <label class="form-field">
                      API Name
                      <select id="serviceApiSelect" required></select>
                    </label>
                    <label class="form-field">
                      Service Type
                      <select id="serviceResponseTemplate">
                        <option value="EXISTING">Existing</option>
                        <option value="JSON">JSON</option>
                        <option value="MESSAGE">Message</option>
                        <option value="CARD">List of Objects</option>
                      </select>
                    </label>
                  </div>

                  <div class="service-form__context">
                    <div class="service-context-row">
                      <label class="form-field">
                        Account Context
                        <input
                          id="serviceAccountContextField"
                          type="text"
                          placeholder="billingAccount.id"
                        />
                      </label>
                      <p class="hint">Adds <code>field=value</code> with the selected account when present.</p>
                    </div>
                    <div class="service-context-row">
                      <label class="form-field">
                        Service Context
                        <input
                          id="serviceServiceContextField"
                          type="text"
                          placeholder="product.id"
                        />
                      </label>
                      <p class="hint">Adds <code>field=value</code> with the selected service when present.</p>
                    </div>
                    <div class="service-context-row">
                      <label class="form-field">
                        Object Context
                        <input
                          id="serviceObjectContextField"
                          type="text"
                          placeholder="orderId"
                        />
                      </label>
                      <p class="hint">Adds <code>field=value</code> with the selected object (from outputs) when present.</p>
                    </div>
                  </div>

                  <div class="service-form__field">
                    <label for="serviceQueryParamsInput">Query Parameters</label>
                    <textarea
                      id="serviceQueryParamsInput"
                      class="service-query-textarea"
                      rows="5"
                      placeholder="key=value&limit=10"
                    ></textarea>
                  </div>

                  <div class="service-form__outputs">
                    <div class="service-form__outputs-header">
                      <div>Output field / Label</div>
                      <button id="addOutputFieldButton" class="secondary" type="button">Add field</button>
                    </div>
                    <div id="outputFieldsContainer" class="output-fields"></div>
                    <div class="service-form__outputs-footer">
                      <button id="addOutputFieldButtonSecondary" class="secondary" type="button">
                        Add another output
                      </button>
                    </div>
                    <p class="hint">
                      Mark one output as <strong>Object Context</strong> to reuse its value later. Output values are
                      still combined for query parameters when calling your APIs.
                    </p>
                  </div>
                </div>
                <div class="toolbar toolbar--end">
                  <button id="saveServiceButton" type="submit">Save changes</button>
                  <button id="cancelServiceButton" class="secondary" type="button">
                    Cancel
                  </button>
                </div>
              </form>
              <div id="serviceList" class="service-card-list"></div>
              <p id="serviceBuilderStatus" class="hint" aria-live="polite"></p>
            </section>
          </section>

          <section id="menuConfigurationPanel">
            <section class="panel">
              <h2>Menu explorer</h2>
              <p>
                Choose a menu to edit, tweak its items, or create nested
                sub-menus. The root menu is called
                <strong>Home</strong> and cannot be renamed or removed.
              </p>
              <div class="menu-mode">
                <label>
                  Configure
                  <select id="menuTypeSelect">
                    <option value="login">Login Menu Config</option>
                    <option value="business">Business Menu Config</option>
                  </select>
                </label>
                <p class="hint">
                  Switch between the login and business menus. Both menus share
                  the same configuration tools, including functions, nested
                  sub-menus, and the delete warning for cascading changes.
                </p>
              </div>
              <div class="menu-toolbar">
                <label>
                  Edit menu
                  <select id="menuSelect"></select>
                </label>
                <div class="menu-toolbar-actions">
                  <button id="createMenuButton" type="button" class="secondary">
                    Create sub-menu
                  </button>
                  <button id="deleteMenuButton" type="button" class="danger">
                    Delete selected sub-menu
                  </button>
                </div>
              </div>
              <label>
                Menu name
                <input
                  id="menuNameEditor"
                  type="text"
                  placeholder="Menu title"
                />
              </label>
              <div
                id="menuContainer"
                class="menu-list"
                aria-live="polite"
              ></div>
              <div class="panel-actions">
                <button id="resetButton" type="button" class="secondary">
                  Reset to default
                </button>
              </div>
            </section>

            <section class="panel">
              <h2>Add a menu item</h2>
              <form id="addItemForm" autocomplete="off">
                <label>
                  Place this item inside
                  <select id="parentMenuSelect" required></select>
                </label>
                <label>
                  Menu item name
                  <input
                    id="itemLabelInput"
                    name="label"
                    type="text"
                    placeholder="e.g. Manage My Services"
                    required
                  />
                </label>
                <label>
                  Menu item type
                  <select id="itemTypeSelect" required>
                    <option value="function">Function</option>
                    <option value="function-menu">
                      Menu item with function
                    </option>
                    <option value="submenu">Sub-menu</option>
                    <option value="weblink">Web link</option>
                  </select>
                </label>
                <div id="functionFields" class="conditional-field">
                  <label>
                    Menu item function
                    <select id="menuFunctionSelect" name="function"></select>
                  </label>
                  <label class="checkbox">
                    <input type="checkbox" id="useTranslationInput" />
                    <span>Use built-in translation</span>
                  </label>
                  <p class="hint">
                    Keeps the original multilingual text for this function. Turn
                    it off to always display the custom label.
                  </p>
                </div>
                <div id="submenuFields" class="conditional-field hidden">
                  <label>
                    Target sub-menu
                    <select id="submenuSelect"></select>
                  </label>
                  <button
                    id="inlineCreateSubmenu"
                    type="button"
                    class="secondary"
                  >
                    Create new sub-menu
                  </button>
                  <p class="hint">
                    Sub-menus can be nested infinitely. When you delete a
                    sub-menu, all of its child items and menus are removed.
                  </p>
                </div>
                <div id="weblinkFields" class="conditional-field hidden">
                  <label>
                    Web link
                    <select id="menuWeblinkSelect"></select>
                  </label>
                  <p class="hint">
                    Opens the configured URL on the user's device. Authenticated
                    links append the current <code>exchangeId</code> when
                    available.
                  </p>
                </div>
                <button type="submit">Add item</button>
              </form>
              <p class="hint">
                The function list mirrors the services available in the current
                Telegram bot. As new services are developed they can be appended
                here without changing the Java backend.
              </p>
            </section>

            <section class="panel">
              <h2>Configuration output</h2>
              <p>
                Download the JSON file, rename it to
                <code>IM-menus.override.json</code>, and copy it into the
                <code>CONFIGURATIONS/</code> directory next to the Telegram bot
                to override the default order. When no override exists the bot
                keeps the packaged <code>IM-menus.default.json</code>.
              </p>
              <div class="panel-actions">
                <label class="file-input">
                  <span>Load existing configuration</span>
                  <input
                    type="file"
                    id="importInput"
                    accept="application/json"
                  />
                </label>
                <button id="downloadButton" class="secondary" type="button">
                  Download configuration
                </button>
              </div>
              <pre id="preview" class="preview" aria-live="polite"></pre>
            </section>
          </section>

          <!-- <section id="operationsMonitoringPanel" class="hidden"> -->
            <section id="operationsMonitoringPanel" class="content-dashboard content-dashboard--wide hidden hidden">
 
              <div class="content-dashboard-section content-dashboard-title">
                <div class="content-title">Operations Monitoring</div>
                <div class="content-subtitle">Track live chat sessions</div>
              </div>
              <!-- <div class="monitoring-config">
                <label>
                  Monitoring API base URL
                  <input
                    id="monitoringApiBase"
                    type="text"
                    value="YOUR_SERVER_PUBLIC_URL"
                    readonly
                  />
                </label>
                <p class="hint">
                  Populated from the <code>public-base-url</code> application
                  property. Copy this value when hosting the UI separately so
                  the Operations Monitoring API can be reached.
                </p>
              </div> -->

              <div class="content-dashboard-section">
                <div class="content-section-title">Ongoing Sessions</div>
                <div class="content-subtitle">Live chats currently in progress.</div>
              </div>

              <div class="content-dashboard-section">
                <div class="content-section-title">Sessions History</div>
                <div class="content-subtitle">Completed Sessions</div>
              </div>

              <div class="content-form">
                <div class="monitoring-card">
                  <div class="monitoring-card__header">
                    <div>
                      <h3>Ongoing sessions</h3>
                      <p class="hint">
                        Live conversations currently in progress.
                      </p>
                    </div>
                    <span class="pill pill--live" aria-label="Live sessions"
                      >Live</span
                    >
                  </div>
                  <div class="list-header">
                    <span>Channel</span>
                    <span>Chat ID / Session ID</span>
                    <span>Login status &amp; username</span>
                    <span>Opt-in status</span>
                    <span>Token</span>
                    <span>Session start date</span>
                    <span>Session start time</span>
                  </div>
                  <div
                    id="liveSessions"
                    class="session-list scrollable-list"
                    aria-live="polite"
                  ></div>
                </div>

                <div class="monitoring-card">
                  <div class="monitoring-card__header">
                    <div>
                      <h3>Recent history</h3>
                      <p class="hint">
                        Completed sessions move here automatically.
                      </p>
                    </div>
                    <span class="pill">History</span>
                  </div>
                  <div class="list-header">
                    <span>Channel</span>
                    <span>Chat ID / Session ID</span>
                    <span>Login status &amp; username</span>
                    <span>Opt-in status</span>
                    <span>Token</span>
                    <span>Session start date</span>
                    <span>Session start time</span>
                  </div>
                  <div
                    id="sessionHistory"
                    class="session-list scrollable-list"
                    aria-live="polite"
                  ></div>
                </div>
              </div>
            </section>
          <!-- </section> -->

          <!-- <section class="hidden"> -->
          <section
            id="sendMessagesPanel"
            class="content-dashboard content-dashboard--wide hidden">

            <div class="content-dashboard-section content-dashboard-title">
          
            <div class="content-title">Send Messages</div>
            <div class="content-subtitle">
              Deliver notifications to opted-in users.<br>
              Users must grant consent from their chat session before any
              outbound message is sent.
            </div>
            </div>
            <!-- <div class="monitoring-config">
                <label>
                  Notifications API base URL
                  <input
                    id="notificationApiBase"
                    type="text"
                    value="YOUR_SERVER_PUBLIC_URL"
                    readonly
                  />
                </label>
                <p class="hint">
                  Populated from the <code>public-base-url</code> application
                  property. Copy this value when hosting the UI separately so
                  the <code>/notifications</code> endpoint can be reached.
                </p>
              </div> -->
              <div class="content-dashboard-section">
            <div class="content-form" id="sendMessageForm">
              <div class="content-section-title">Notification Form</div>
              <form id="sendMessageForm" class="" autocomplete="off">
                <div class="content-form-selection">
                  <div class="content-form-field">
                    <span class="content-form-label">Channel</span>
                    <select
                      id="notificationChannel"
                      class="content-form-input"
                      required
                    >
                      <option value="telegram">Telegram</option>
                      <option value="whatsapp">WhatsApp</option>
                    </select>
                  </div>

                  <div class="content-form-field">
                    <span class="content-form-label"
                      >Chat ID / Phone Number</span
                    >
                    <input
                      id="notificationChatId"
                      type="text"
                      class="content-form-input"
                      placeholder="e.g. 123456789"
                      required
                    />
                  </div>
                </div>

                <div class="content-form-field content-form-message">
                  <span class="content-form-label">Message</span>
                  <textarea
                    id="notificationMessage"
                    class="content-form-input content-form-textarea"
                    placeholder="Type the notification to send"
                    required
                  ></textarea>
                </div>
                </div>

                <div class="panel-actions">
                  <button type="submit">Send notification</button>
                </div>
              </form>

              <div
                id="notificationResult"
                class="notification-result hidden"
                aria-live="polite"
              ></div>
            </div>
          </section>

          <section id="connectorsPanel" class="hidden">
            <section class="panel panel--wide">
              <div class="panel-heading">
                <div>
                  <h2>Connectors</h2>
                  <p>
                    Manage channel availability flags and individual connector
                    settings. Values are read directly from the
                    <code>CONFIGURATIONS/</code> directory.
                  </p>
                </div>
              </div>

              <div
                class="tabs"
                role="tablist"
                aria-label="Connector configuration"
              >
                <button
                  class="tab active"
                  data-connectors-tab="general"
                  type="button"
                >
                  General
                </button>
                <button
                  class="tab"
                  data-connectors-tab="telegram"
                  type="button"
                >
                  Telegram
                </button>
                <button
                  class="tab"
                  data-connectors-tab="whatsapp"
                  type="button"
                >
                  WhatsApp
                </button>
                <button
                  class="tab"
                  data-connectors-tab="messenger"
                  type="button"
                >
                  Messenger
                </button>
              </div>

              <div
                class="connector-tab connector-tab--active"
                data-connectors-tab-panel="general"
              >
                <div class="monitoring-config config-viewer__header">
                  <div>
                    <div class="hint">Configuration source</div>
                    <div
                      id="connectorsFileName"
                      class="config-viewer__filename"
                    >
                      Loading...
                    </div>
                  </div>
                  <div class="panel-actions">
                    <button
                      id="connectorsReloadButton"
                      type="button"
                      class="secondary"
                    >
                      Reload from file
                    </button>
                  </div>
                  <div id="connectorsStatus" class="hint"></div>
                </div>
                <p class="hint">
                  Use the switches to enable or disable each messaging channel.
                  Changes are reflected below and can be downloaded as
                  <code>connectors-local.yml</code>.
                </p>
                <div class="switch-grid">
                  <div class="switch-tile">
                    <div class="switch-text">
                      <div class="switch-label">Telegram</div>
                      <div class="switch-subtitle">
                        Toggle the Telegram connector availability.
                      </div>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="telegramConnectorToggle" />
                      <span class="switch-slider" aria-hidden="true"></span>
                      <span class="switch-value">On</span>
                    </label>
                  </div>
                  <div class="switch-tile">
                    <div class="switch-text">
                      <div class="switch-label">WhatsApp</div>
                      <div class="switch-subtitle">
                        Toggle the WhatsApp connector availability.
                      </div>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="whatsappConnectorToggle" />
                      <span class="switch-slider" aria-hidden="true"></span>
                      <span class="switch-value">On</span>
                    </label>
                  </div>
                  <div class="switch-tile">
                    <div class="switch-text">
                      <div class="switch-label">Messenger</div>
                      <div class="switch-subtitle">
                        Toggle the Messenger connector availability.
                      </div>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="messengerConnectorToggle" />
                      <span class="switch-slider" aria-hidden="true"></span>
                      <span class="switch-value">On</span>
                    </label>
                  </div>
                </div>
                <div class="config-editor">
                  <div id="connectorsConfigTree" class="config-tree"></div>
                </div>
                <div class="connector-preview">
                  <div class="connector-preview__header">
                    <div class="hint">Generated connectors-local.yml</div>
                  </div>
                  <pre
                    id="connectorsPreview"
                    class="preview config-preview"
                    aria-live="polite"
                  ></pre>
                </div>
                <div class="download-actions">
                  <button
                    id="connectorsDownloadButton"
                    type="button"
                    class="secondary"
                  >
                    Download connectors-local.yml
                  </button>
                </div>
              </div>

              <div class="connector-tab" data-connectors-tab-panel="telegram">
                <div class="connector-tab__header">
                  <div>
                    <div class="switch-label">Telegram configuration</div>
                    <div id="telegramConfigStatus" class="hint"></div>
                  </div>
                  <div class="panel-actions">
                    <button
                      id="telegramReloadButton"
                      type="button"
                      class="secondary"
                    >
                      Reload from file
                    </button>
                  </div>
                </div>
                <div
                  id="telegramDisabledMessage"
                  class="empty-state hidden"
                  aria-live="polite"
                >
                  Telegram is disabled in your configuration.
                </div>
                <div class="config-editor">
                  <div
                    id="telegramConfigTree"
                    class="config-tree"
                    aria-label="telegram-local.yml editor"
                  ></div>
                </div>
                <div class="connector-preview">
                  <div class="connector-preview__header">
                    <div class="hint">Generated telegram-local.yml</div>
                  </div>
                  <pre
                    id="telegramPreview"
                    class="preview config-preview"
                    aria-live="polite"
                  ></pre>
                </div>
                <div class="download-actions">
                  <button
                    id="telegramDownloadButton"
                    type="button"
                    class="secondary"
                  >
                    Download telegram-local.yml
                  </button>
                </div>
              </div>

              <div class="connector-tab" data-connectors-tab-panel="whatsapp">
                <div class="connector-tab__header">
                  <div>
                    <div class="switch-label">WhatsApp configuration</div>
                    <div id="whatsappConfigStatus" class="hint"></div>
                  </div>
                  <div class="panel-actions">
                    <button
                      id="whatsappReloadButton"
                      type="button"
                      class="secondary"
                    >
                      Reload from file
                    </button>
                  </div>
                </div>
                <div
                  id="whatsappDisabledMessage"
                  class="empty-state hidden"
                  aria-live="polite"
                >
                  WhatsApp is disabled in your configuration.
                </div>
                <div class="config-editor">
                  <div
                    id="whatsappConfigTree"
                    class="config-tree"
                    aria-label="whatsapp-local.yml editor"
                  ></div>
                </div>
                <div class="connector-preview">
                  <div class="connector-preview__header">
                    <div class="hint">Generated whatsapp-local.yml</div>
                  </div>
                  <pre
                    id="whatsappPreview"
                    class="preview config-preview"
                    aria-live="polite"
                  ></pre>
                </div>
                <div class="download-actions">
                  <button
                    id="whatsappDownloadButton"
                    type="button"
                    class="secondary"
                  >
                    Download whatsapp-local.yml
                  </button>
                </div>
              </div>

              <div class="connector-tab" data-connectors-tab-panel="messenger">
                <div class="connector-tab__header">
                  <div>
                    <div class="switch-label">Messenger configuration</div>
                    <div id="messengerConfigStatus" class="hint"></div>
                  </div>
                  <div class="panel-actions">
                    <button
                      id="messengerReloadButton"
                      type="button"
                      class="secondary"
                    >
                      Reload from file
                    </button>
                  </div>
                </div>
                <div
                  id="messengerDisabledMessage"
                  class="empty-state hidden"
                  aria-live="polite"
                >
                  Messenger is disabled in your configuration.
                </div>
                <div class="config-editor">
                  <div
                    id="messengerConfigTree"
                    class="config-tree"
                    aria-label="messenger-local.yml editor"
                  ></div>
                </div>
                <div class="connector-preview">
                  <div class="connector-preview__header">
                    <div class="hint">Generated messenger-local.yml</div>
                  </div>
                  <pre
                    id="messengerPreview"
                    class="preview config-preview"
                    aria-live="polite"
                  ></pre>
                </div>
                <div class="download-actions">
                  <button
                    id="messengerDownloadButton"
                    type="button"
                    class="secondary"
                  >
                    Download messenger-local.yml
                  </button>
                </div>
              </div>
            </section>
          </section>

          <section id="weblinksPanel" class="hidden">
            <section class="panel panel--wide">
              <div class="panel-heading">
                <div>
              <h2>Web Links Registration</h2>
                  <p>
                    Manage reusable links for menu items. Authenticated links
                    automatically append the user's <code>exchangeId</code> when
                    available.
                  </p>
                </div>
              </div>

              <div class="monitoring-config config-viewer__header">
                <div>
                  <div class="hint">Configuration source</div>
                  <div id="weblinksFileName" class="config-viewer__filename">
                    Loading...
                  </div>
                </div>
                <div class="panel-actions">
                  <button
                    id="weblinksReloadButton"
                    type="button"
                    class="secondary"
                  >
                    Reload from file
                  </button>
                </div>
                <div id="weblinksStatus" class="hint"></div>
              </div>

              <p class="hint">
                If <code>weblinks-local.yml</code> is not present, the example
                configuration is loaded instead. Edit entries below or download
                the generated file for deployment.
              </p>

              <div id="weblinksList" class="config-tree"></div>

              <div class="panel-actions">
                <button id="addWeblinkButton" type="button" class="button">
                  Add new weblink
                </button>
              </div>

              <form id="weblinksAddForm" class="card hidden" autocomplete="off">
                <div class="two-col-grid">
                  <label>
                    URL name
                    <input
                      id="weblinkNameInput"
                      type="text"
                      placeholder="Support Portal"
                      required
                    />
                  </label>
                  <label>
                    URL
                    <input
                      id="weblinkUrlInput"
                      type="url"
                      placeholder="https://example.com"
                      required
                    />
                  </label>
                </div>
                <label>
                  Context
                  <select id="weblinkContextInput">
                    <option value="noContext">None</option>
                    <option value="account">Account</option>
                    <option value="service">Service</option>
                  </select>
                </label>
                <label class="checkbox">
                  <input id="weblinkAuthInput" type="checkbox" />
                  <span>Authenticated user link</span>
                </label>
                <div class="toolbar toolbar--end">
                  <button id="confirmWeblinkButton" type="submit">OK</button>
                  <button
                    id="cancelWeblinkButton"
                    type="button"
                    class="secondary"
                  >
                    Cancel
                  </button>
                </div>
              </form>

              <div class="connector-preview">
                <div class="connector-preview__header">
                  <div class="hint">Generated weblinks-local.yml</div>
                </div>
                <pre
                  id="weblinksPreview"
                  class="preview config-preview"
                  aria-live="polite"
                ></pre>
              </div>

              <div class="download-actions">
                <button
                  id="weblinksDownloadButton"
                  type="button"
                  class="secondary"
                >
                  Download weblinks-local.yml
                </button>
              </div>
            </section>
          </section>

          <section id="imServerAdminPanel" class="hidden">
            <section class="panel panel--wide">
              <h2>IM Server Admin</h2>
              <p>
                Review the active configuration that drives the Cerillion
                Digital IM Server. When available, the server prioritises
                <code>application-local.yml</code>; otherwise the
                <code>application-example.yml</code> baseline is shown.
              </p>
              <div class="monitoring-config config-viewer__header">
                <div>
                  <div class="hint">Configuration source</div>
                  <div id="configFileName" class="config-viewer__filename">
                    Loading...
                  </div>
                </div>
                <div class="panel-actions">
                  <button
                    id="refreshConfigButton"
                    type="button"
                    class="secondary"
                  >
                    Reload configuration
                  </button>
                </div>
              </div>
              <div id="configStatus" class="hint"></div>
              <p class="hint">
                Values are editable for review purposes only. Future updates
                will allow saving the file back to the server.
              </p>
              <div class="config-editor">
                <div
                  id="configEmptyState"
                  class="config-empty hidden"
                  aria-live="polite"
                >
                  Configuration entries are not available.
                </div>
                <div
                  id="configTree"
                  class="config-tree"
                  aria-live="polite"
                ></div>
              </div>
              <details class="config-raw">
                <summary>Show raw configuration</summary>
                <pre
                  id="imConfigContent"
                  class="preview config-preview"
                  aria-live="polite"
                ></pre>
              </details>
            </section>
          </section>
        </main>
      </div>
    </div>
    <button id="saveOverlayButton" class="floating-save hidden" type="button">Publish</button>
    <script src="app.js"></script>
  </body>
</html>
